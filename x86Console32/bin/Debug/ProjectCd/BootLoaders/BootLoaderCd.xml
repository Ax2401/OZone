<?xml version="1.0" encoding="utf-8"?>
<scope xmlns="http://metalx.org/Program" xmlns:cpu16="http://metalx.org/Intel/80286/Operators" xmlns:cpu32="http://metalx.org/Intel/80386/Operators" xmlns:op16="http://metalx.org/Intel/80286/Operands" xmlns:op32="http://metalx.org/Intel/80386/Operands" xmlns:ex16="http://metalx.org/Intel/80286/ExtendedOperators" xmlns:ex32="http://metalx.org/Intel/80386/ExtendedOperators" xmlns:math16="http://metalx.org/Intel/80286/Math" xmlns:math32="http://metalx.org/Intel/80386/Math" xmlns:seg16="http://metalx.org/Intel/80286/Segments" xmlns:seg32="http://metalx.org/Intel/80386/Segments" xmlns:imm32="http://metalx.org/Intel/80386/Immediate" xmlns:ctrl16="http://metalx.org/Intel/80286/Control" xmlns:gdt16="http://metalx.org/Intel/80286/DescriptorTable" xmlns:gdt32="http://metalx.org/Intel/80386/DescriptorTable" xmlns:sys="http://metalx.org/Pc/Bios/System" xmlns:bios="http://metalx.org/Pc/Bios/Functions" xmlns:logic32="http://metalx.org/Intel/80386/Logic" xmlns:index32="http://metalx.org/Intel/80386/Index" xmlns:pic="http://metalx.org/Pc/Pic/Ports" xmlns:cmd="http://metalx.org/Pc/Pic/Commands" xmlns:dsk="http://metalx.org/i286/Functions/Disk" xmlns:hd="http://metalx.org/i386/Functions/HardDrive" xmlns:imm16="http://metalx.org/Intel/80286/Immediate" xmlns:inc16="http://metalx.org/Intel/80286/Increment" xmlns:inc32="http://metalx.org/Intel/80386/Increment" xmlns:hex32="http://metalx.org/i386/Functions/Hexadecimal" xmlns:con="http://metalx.org/i286/Functions/Console">
	<!--Set CPU To Known State-->
	<prg:hex xmlns:prg="http://metalx.org/Program">FC</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">B8</prg:hex>
	<hex>0000</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">8E</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">D0</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">8E</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">D8</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">8E</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C0</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">8E</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">E0</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">8E</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">E8</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">89</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C4</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">EA</prg:hex>
	<addressOf ref="start" type="Pointer16" />
	<label id="start" />
	<!--Enable A20 Gate-->
	<prg:hex xmlns:prg="http://metalx.org/Program">B8</prg:hex>
	<hex>2401</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">CD</prg:hex>
	<hex>15</hex>
	<!--Get Memory Map-->
	<prg:hex xmlns:prg="http://metalx.org/Program">66</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">BF</prg:hex>
	<hex>00003000</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">66</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">BB</prg:hex>
	<int>0</int>
	<label id="nextEntry" />
	<prg:hex xmlns:prg="http://metalx.org/Program">66</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">B8</prg:hex>
	<hex>0000e820</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">66</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">BA</prg:hex>
	<string>PAMS</string>
	<prg:hex xmlns:prg="http://metalx.org/Program">66</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">B9</prg:hex>
	<int>24</int>
	<prg:hex xmlns:prg="http://metalx.org/Program">CD</prg:hex>
	<hex>15</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">83</prg:hex>
	<hex>C7</hex>
	<byte>24</byte>
	<prg:hex xmlns:prg="http://metalx.org/Program">72</prg:hex>
	<addressOf ref="done" type="Relative8" />
	<prg:hex xmlns:prg="http://metalx.org/Program">81</prg:hex>
	<hex>FB</hex>
	<hex>0000</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">74</prg:hex>
	<addressOf ref="done" type="Relative8" />
	<prg:hex xmlns:prg="http://metalx.org/Program">EB</prg:hex>
	<addressOf ref="nextEntry" type="Relative8" />
	<label id="done" />
	<prg:hex xmlns:prg="http://metalx.org/Program">66</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C7</prg:hex>
	<hex>05</hex>
	<hex>ffffffff</hex>
	<!--Disable NMI-->
	<prg:hex xmlns:prg="http://metalx.org/Program">E4</prg:hex>
	<hex>70</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">0C</prg:hex>
	<binary>10000000</binary>
	<prg:hex xmlns:prg="http://metalx.org/Program">E6</prg:hex>
	<hex>70</hex>
	<!--Load Global Descriptor Table-->
	<prg:hex xmlns:prg="http://metalx.org/Program">FA</prg:hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">0F</prg:hex>
	<hex>01</hex>
	<hex>16</hex>
	<addressOf ref="globalDescriptorTablePointer" type="Absolute16" />
	<!--Switch To 32-Bit Protected Mode-->
	<prg:hex xmlns:prg="http://metalx.org/Program">0F</prg:hex>
	<hex>20</hex>
	<hex>c0</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">0C</prg:hex>
	<binary>00000001</binary>
	<prg:hex xmlns:prg="http://metalx.org/Program">0F</prg:hex>
	<hex>22</hex>
	<hex>c0</hex>
	<!--Jump to segment-->
	<prg:hex xmlns:prg="http://metalx.org/Program">EA</prg:hex>
	<addressOf ref="enterProtectedMode" type="Absolute16" />
	<hex>0008</hex>
	<!--32-bit Protected Mode-->
	<label id="enterProtectedMode" />
	<!--Setup Segment Registers-->
	<hex>B8</hex>
	<hex>00000010</hex>
	<hex>8E</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">D0</prg:hex>
	<hex>BC</hex>
	<hex>00010000</hex>
	<hex>8E</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">D8</prg:hex>
	<hex>8E</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C0</prg:hex>
	<hex>8E</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">E0</prg:hex>
	<hex>8E</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">E8</prg:hex>
	<!--Enable NMI-->
	<hex>E4</hex>
	<hex>70</hex>
	<hex>24</hex>
	<binary>01111111</binary>
	<hex>E6</hex>
	<hex>70</hex>
	<!--Reprogram Master Interrupt Controller-->
	<hex>B0</hex>
	<hex>11</hex>
	<hex>E6</hex>
	<hex>20</hex>
	<hex>B0</hex>
	<byte>32</byte>
	<hex>E6</hex>
	<hex>21</hex>
	<hex>B0</hex>
	<binary>00000100</binary>
	<hex>E6</hex>
	<hex>21</hex>
	<hex>B0</hex>
	<hex>01</hex>
	<hex>E6</hex>
	<hex>21</hex>
	<hex>B0</hex>
	<hex>00</hex>
	<hex>E6</hex>
	<hex>21</hex>
	<!--Reprogram Slave Interrupt Controller-->
	<hex>B0</hex>
	<hex>11</hex>
	<hex>E6</hex>
	<hex>a0</hex>
	<hex>B0</hex>
	<byte>40</byte>
	<hex>E6</hex>
	<hex>a1</hex>
	<hex>B0</hex>
	<binary>00000010</binary>
	<hex>E6</hex>
	<hex>a1</hex>
	<hex>B0</hex>
	<hex>01</hex>
	<hex>E6</hex>
	<hex>a1</hex>
	<hex>B0</hex>
	<hex>00</hex>
	<hex>E6</hex>
	<hex>a1</hex>
	<!--Read Disk Information From Hard Drive-->
	<hex>BF</hex>
	<hex>00010000</hex>
	<hex>B8</hex>
	<int>1</int>
	<hex>BB</hex>
	<int>0</int>
	<hex>B9</hex>
	<int>1</int>
	<hex>BA</hex>
	<hex>00000170</hex>
	<hex>E8</hex>
	<addressOf ref="readBlocks" type="Relative32" />
	<hex>8B</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">47</prg:hex>
	<byte>16</byte>
	<hex>8B</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">4F</prg:hex>
	<byte>20</byte>
	<hex>FF</hex>
	<hex>77</hex>
	<byte>52</byte>
	<hex>E8</hex>
	<addressOf ref="readBlocks" type="Relative32" />
	<!--Read Programs From Hard Drive-->
	<hex>89</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">FE</prg:hex>
	<hex>AD</hex>
	<hex>89</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C1</prg:hex>
	<label id="forEachProgram" />
	<hex>51</hex>
	<hex>AD</hex>
	<hex>50</hex>
	<hex>AD</hex>
	<hex>89</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C1</prg:hex>
	<hex>AD</hex>
	<hex>89</hex>
	<prg:hex xmlns:prg="http://metalx.org/Program">C7</prg:hex>
	<hex>58</hex>
	<hex>E8</hex>
	<addressOf ref="readBlocks" type="Relative32" />
	<hex>59</hex>
	<hex>E2</hex>
	<addressOf ref="forEachProgram" type="Relative8" />
	<!--Restore Start Address-->
	<hex>5E</hex>
	<!--<cpu32:SetInterruptFlag/>

	<cpu32:LogicFunction/>
	<logic32:JumpToSIRegister/>-->
	<hex>EA</hex>
	<hex>00009c00</hex>
	<hex>0008</hex>
	<!--Global Descriptor Table Pointer-->
	<label id="globalDescriptorTablePointer" />
	<hex>0017</hex>
	<addressOf ref="globalDescriptorTable" type="Absolute16" />
	<!--Global Descriptor Table-->
	<label id="globalDescriptorTable" />
	<!--Null Descriptor (0000)-->
	<!--Size-->
	<hex>0000</hex>
	<!--Base (Low)-->
	<hex>0000</hex>
	<!--Base (Mid)-->
	<hex>00</hex>
	<!--Access-->
	<binary>00000000</binary>
	<!--Flags / Size (High)-->
	<binary>00000000</binary>
	<!--Base (High)-->
	<hex>00</hex>
	<!--Code Descriptor (0008)-->
	<!--Size-->
	<hex>ffff</hex>
	<!--Base (Low)-->
	<hex>0000</hex>
	<!--Base (Mid)-->
	<hex>00</hex>
	<!--Access-->
	<binary>10011010</binary>
	<!--Flags / Size (High)-->
	<binary>11001111</binary>
	<!--Base (High)-->
	<hex>00</hex>
	<!--Data Descriptor (0010)-->
	<!--Size-->
	<hex>ffff</hex>
	<!--Base (Low)-->
	<hex>0000</hex>
	<!--Base (Mid)-->
	<hex>00</hex>
	<!--Access-->
	<binary>10010010</binary>
	<!--Flags / Size (High)-->
	<binary>11001111</binary>
	<!--Base (High)-->
	<hex>00</hex>
	<!--Functions-->
	<!--<label id="readBlocks"/>

	<cpu32:PushSIToStack/>
	<cpu32:PushDIToStack/>
	<cpu32:PushBXToStack/>

	<hd:ReadBlocks/>

	<cpu32:PullBXFromStack/>
	<cpu32:PullDIFromStack/>
	<cpu32:PullSIFromStack/>

	<cpu32:ReturnToNearCaller/>-->
	<label id="readBlocks" xmlns:shift32="http://metalx.org/Intel/80386/Shift" xmlns:pata="http://metalx.org/Pc/Pata/Ports" xmlns:status="http://metalx.org/Pc/Pata/Status" xmlns:drive="http://metalx.org/Pc/Pata/DriveSelect" xmlns:cmd="http://metalx.org/Pc/Pata/Commands">
		<scope>
			<hex>60</hex>
			<label id="nextBlock" />
			<hex>52</hex>
			<hex>51</hex>
			<hex>53</hex>
			<hex>50</hex>
			<!--Reset Controller-->
			<!--<cpu32:MathImmediateToOperandFunction/>
			<math32:AddToDXRegister/>
			<hex>00000206</hex>

			<cpu32:CopyImmediateToAL/>
			<binary>00000100</binary>

			<cpu32:WriteALToDXPort/>

			<cpu32:ReadFromDXPortToAL/>
			<cpu32:ReadFromDXPortToAL/>
			<cpu32:ReadFromDXPortToAL/>
			<cpu32:ReadFromDXPortToAL/>

			<cpu32:CopyImmediateToAL/>
			<binary>00000000</binary>

			<cpu32:WriteALToDXPort/>

			<cpu32:ReadFromDXPortToAL/>
			<cpu32:ReadFromDXPortToAL/>
			<cpu32:ReadFromDXPortToAL/>
			<cpu32:ReadFromDXPortToAL/>

			<cpu32:MathImmediateToOperandFunction/>
			<math32:SubtractFromDXRegister/>
			<hex>00000206</hex>-->
			<!--Select Drive-->
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">06</prg:hex>
			<!--<cpu32:PushAXToStack/>-->
			<hex>C1</hex>
			<hex>E8</hex>
			<byte>24</byte>
			<hex>24</hex>
			<binary>00001111</binary>
			<hex>0C</hex>
			<binary>11100000</binary>
			<hex>C0</hex>
			<hex>E3</hex>
			<byte>4</byte>
			<hex>0A</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">C3</prg:hex>
			<hex>EE</hex>
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">06</prg:hex>
			<!--Wait For Drive Select-->
			<hex>E8</hex>
			<addressOf ref="sleep" type="Relative32" />
			<!--Disable DMA-->
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">01</prg:hex>
			<hex>B0</hex>
			<binary>00000000</binary>
			<hex>EE</hex>
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">01</prg:hex>
			<!--Enable IRQs-->
			<hex>66</hex>
			<hex>81</hex>
			<hex>C2</hex>
			<hex>0206</hex>
			<hex>B0</hex>
			<binary>00000000</binary>
			<hex>EE</hex>
			<hex>66</hex>
			<hex>81</hex>
			<hex>EA</hex>
			<hex>0206</hex>
			<!--Set Byte Count 0-->
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">04</prg:hex>
			<hex>B0</hex>
			<hex>00</hex>
			<hex>EE</hex>
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">04</prg:hex>
			<!--Set Byte Count 1-->
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">05</prg:hex>
			<hex>B0</hex>
			<hex>08</hex>
			<hex>EE</hex>
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">05</prg:hex>
			<!--Send ATAPI Packet Command-->
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">07</prg:hex>
			<hex>B0</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">A0</prg:hex>
			<hex>EE</hex>
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">07</prg:hex>
			<!--Wait While Busy-->
			<hex>E8</hex>
			<addressOf ref="wait" type="Relative32" />
			<hex>E8</hex>
			<addressOf ref="poll" type="Relative32" />
			<!--Send ATAPI Packet-->
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">00</prg:hex>
			<hex>66</hex>
			<hex>B8</hex>
			<hex>0028</hex>
			<hex>66</hex>
			<hex>EF</hex>
			<!--<cpu32:PullAXFromStack/>-->
			<hex>8B</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">04</prg:hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">24</prg:hex>
			<hex>C1</hex>
			<hex>C8</hex>
			<byte>16</byte>
			<hex>66</hex>
			<hex>C1</hex>
			<hex>C8</hex>
			<byte>8</byte>
			<hex>66</hex>
			<hex>EF</hex>
			<hex>C1</hex>
			<hex>C0</hex>
			<byte>16</byte>
			<hex>66</hex>
			<hex>C1</hex>
			<hex>C8</hex>
			<byte>8</byte>
			<hex>66</hex>
			<hex>EF</hex>
			<hex>66</hex>
			<hex>B8</hex>
			<hex>0000</hex>
			<hex>66</hex>
			<hex>EF</hex>
			<hex>66</hex>
			<hex>B8</hex>
			<hex>0001</hex>
			<hex>66</hex>
			<hex>EF</hex>
			<hex>66</hex>
			<hex>B8</hex>
			<hex>0000</hex>
			<hex>66</hex>
			<hex>EF</hex>
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">00</prg:hex>
			<!--Wait While Busy-->
			<!--<cpu32:WaitForInterrupt/>
			<cpu32:WaitForInterrupt/>
			<cpu32:WaitForInterrupt/>
			<cpu32:WaitForInterrupt/>-->
			<!--Get Byte Count 0-->
			<!--<cpu32:MathImmediate8ToOperandFunction/>
		<math32:AddToDXRegister/>
		<pata:ByteCount0/>
		
		<cpu32:ReadFromDXPortToAL/>

		<cpu32:MathImmediate8ToOperandFunction/>
		<math32:SubtractFromDXRegister/>
		<pata:ByteCount0/>-->
			<!--Get Byte Count 1-->
			<!--<cpu32:MathImmediate8ToOperandFunction/>
		<math32:AddToDXRegister/>
		<pata:ByteCount1/>

		<cpu32:ReadFromDXPortToAL/>

		<cpu32:MathImmediate8ToOperandFunction/>
		<math32:SubtractFromDXRegister/>
		<pata:ByteCount1/>-->
			<!--<cpu32:CallRelative/>
			<addressOf ref="sleep" type="Relative32"/>-->
			<hex>E8</hex>
			<addressOf ref="wait" type="Relative32" />
			<!--Read Data-->
			<hex>E8</hex>
			<addressOf ref="poll" type="Relative32" />
			<hex>B9</hex>
			<int>1024</int>
			<hex>66</hex>
			<hex>F3</hex>
			<hex>6D</hex>
			<hex>58</hex>
			<hex>5B</hex>
			<hex>59</hex>
			<hex>5A</hex>
			<hex>40</hex>
			<hex>49</hex>
			<hex>74</hex>
			<addressOf ref="lastBlock" type="Relative8" />
			<hex>E9</hex>
			<addressOf ref="nextBlock" type="Relative32" />
			<label id="lastBlock" />
			<hex>61</hex>
			<hex>C3</hex>
			<label id="sleep" />
			<hex>66</hex>
			<hex>81</hex>
			<hex>C2</hex>
			<hex>0206</hex>
			<hex>EC</hex>
			<hex>EC</hex>
			<hex>EC</hex>
			<hex>EC</hex>
			<hex>66</hex>
			<hex>81</hex>
			<hex>EA</hex>
			<hex>0206</hex>
			<hex>C3</hex>
			<label id="wait" />
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">07</prg:hex>
			<label id="whileBusy" />
			<hex>EC</hex>
			<hex>24</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">80</prg:hex>
			<hex>75</hex>
			<addressOf ref="whileBusy" type="Relative8" />
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">07</prg:hex>
			<hex>C3</hex>
			<label id="poll" />
			<hex>83</hex>
			<hex>C2</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">07</prg:hex>
			<label id="whileEmpty" />
			<hex>EC</hex>
			<hex>24</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">08</prg:hex>
			<hex>74</hex>
			<addressOf ref="whileEmpty" type="Relative8" />
			<hex>83</hex>
			<hex>EA</hex>
			<prg:hex xmlns:prg="http://metalx.org/Program">07</prg:hex>
			<hex>C3</hex>
		</scope>
	</label>
</scope>